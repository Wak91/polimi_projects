<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"> 

<ui:composition template="Template.xhtml">

	<ui:define name="content">
	    #{PacketBean.initBean()}
	    <p:tabMenu activeIndex="0">  
     <p:menuitem value="Home" url="userhome.xhtml" icon="ui-icon-person"/>  
     <p:menuitem value="MyAccount" url="personaldata.xhtml" icon="ui-icon-search" />  
     <p:menuitem value="ImieiViaggi" url="imieiviaggi.xhtml" icon="ui-icon-search"/>  
     <p:menuitem value="GiftList" url="giftlist.xhtml" icon="ui-icon-wrench"/>  
     </p:tabMenu>   
      <h:form id="form">  
    WELCOME TO TRAVEL DREAM <br></br>
    .......................
    LISTA PACCHETTI DISPONIBILI
    <p:dataTable var="pack" value="#{PacketBean.packModels}" rowKey="#{pack.nome}" paginator="true" rows="10"  
                selection="#{PacketBean.packet}" selectionMode="single" filteredValue="#{PacketBean.packlist}" id="packTable">  
  
        <f:facet name="header">  
            <h:outputText value="Pacchetto" />  
        </f:facet>  
  
        <p:column headerText="Nome" sortBy="nome" filterBy="#{pack.nome}" id="pack">  
            <h:outputText value="#{pack.nome}" />  
        </p:column>  
        
         <p:column headerText="Destinazione" sortBy="destinazione" filterBy="#{pack.destinazione}" id="destinazione">  
            <h:outputText value="#{pack.destinazione}" />  
        </p:column> 
  
        <p:column headerText="Data inizio" sortBy="data_inizio" pattern="dd/MM/yyyy" filterBy="#{pack.data_inizio}" id="datainizio">  
            <h:outputText value="#{pack.data_inizio}">
            				<f:convertDateTime pattern="dd/MM/yyyy" />
            </h:outputText>  
        </p:column>  
  
        <p:column headerText="Data fine" sortBy="data_fine"  pattern="dd/MM/yyyy"  filterBy="#{pack.data_fine}" id="datafine">  
            <h:outputText value="#{pack.data_fine}">
            				<f:convertDateTime pattern="dd/MM/yyyy" />
            </h:outputText>  
        </p:column>   
        
        <p:column headerText="Esplora pacchetto" style="width:24%" >  
        <h:link outcome = "creaviaggio?id=#{pack.id}"  value="Esplora"/>
	    </p:column> 
  
    </p:dataTable> 
     
    </h:form>  

    <p:commandButton action="#{userBean.logout}" value="Logout" />
    
    <p:button id="confirm" value="Conferma Invito" outcome="/utente/idFormConferma.xhtml?faces-redirect=true"/>
	         

	</ui:define>

</ui:composition>
</html>
