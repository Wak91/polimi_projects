<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">

	<ui:composition template="Template.xhtml">
	 <ui:define name="content">
       #{GiftListBean.init()}
		<div class="header">
				<div class="wrap">
				
				<div class="logo">
					<a href="index.html"><img src="../images/logo.png" title="logo" /></a>
				</div>
				<div class="top-nav">
					<ul>
						<li class="active"><a href="userhome.xhtml">Home</a></li>
						<li><a href="personaldata.xhtml">MyAccount</a></li>
						<li><a href="imieiviaggi.xhtml">ImieiViaggi</a></li>
						<li><a href="giftlist.xhtml">GiftList</a></li>
						<li><a href="idFormConferma.xhtml">ConfermaInviti</a></li>
					    <li><h:form>
								<p:commandLink action="#{userBean.logout}" value="Logout" />
			                </h:form>
			            </li>
						
					</ul>
				</div>
				<div class="clear"> </div>
			</div>
		</div>  		
		
<br></br>
				  	<h3>Personal info</h3>
					    <h:form>
					    	 <p:growl id="msgs" value="Inserisci valida email"/>  
    
    
   
  
    <p:panel header="Aggiungi un nuovo amico">  
        <h:panelGrid columns="2" id="grid">  
        <h:outputLabel value="Numero Persone" ></h:outputLabel>  
         <p:spinner id="numpers"   value="#{GiftListBean.giftListDTO.npersone}" min="1" max="15">         
     	</p:spinner> 
              
            <h:outputLabel value="Email Amico a" for="email"></h:outputLabel>  
            <p:inputText id="email"   value="#{GiftListBean.amico}" >  
               <f:validateRegex pattern="(^$|^.*@.*\..*$)" />
            </p:inputText>
              
             
            <p:commandButton id="btn_add" value="Aggiungi Amico" update="emails msgs @parent"  
                            action="#{GiftListBean.reinit}" >  
                <p:collector value="#{GiftListBean.amico}"   
                            addTo="#{GiftListBean.giftListDTO.amico}" />  
            </p:commandButton>  
        </h:panelGrid>  
    </p:panel>  
      
    <p:outputPanel id="emails">  
        <p:dataTable id="emailsTable" value="#{GiftListBean.giftListDTO.amico}" var="amico">  
  
            <p:column>  
                <f:facet name="header">  
                    <h:outputText value="Title" />  
                </f:facet>  
                <h:outputText value="#{amico}" />  
            </p:column>  
  
            
  
            <p:column>  
                <f:facet name="header">  
                    <h:outputText value="Operation" />  
                </f:facet>  
                <p:commandLink value="Remove" update=":form:emails" process=":form:emails">  
                    <p:collector value="#{amico}"  
                                 removeFrom="#{GiftListBean.giftListDTO.amico}" />  
                </p:commandLink>  
            </p:column>  
  
        </p:dataTable>  
    </p:outputPanel>  
              <p:commandButton value="Create Gift List" action="#{GiftListBean.creaGift()}" update="emails msgs @parent" />  
              
					    </h:form>

				  				
  			<div class="clear"> </div>
  				
  				<div class="footer">
			<div class="wrap">
			<div class="footer-grids">
				<div class="footer-grid">
					<h3>EXTRAS</h3>
					<p>Ut rutrum neque a mollis laoreet diam enim feuiat dui nec ulacoper quam felis id diam. Nunc ut tortor ligula eu petiu risus. Pelleesque conquat dignissim lacus quis altrcies.</p>
				</div>
				<div class="footer-grid">
					<h3>RECENT POSTS</h3>
					<ul>
						<li><a href="#">Vestibulum felis</a></li>
						<li><a href="#">Mauris at tellus</a></li>
						<li><a href="#">Donec ut lectus</a></li>
						<li><a href="#">vitae interdum</a></li>
					</ul>
				</div>
				<div class="footer-grid">
					<h3>USEFUL INFO</h3>
					<ul>
						<li><a href="#">Hendrerit quam</a></li>
						<li><a href="#">Amet consectetur </a></li>
						<li><a href="#">Iquam hendrerit</a></li>
						<li><a href="#">Donec ut lectus </a></li>
					</ul>
				</div>
				<div class="footer-grid footer-lastgrid">
					<h3>CONTACT US</h3>
					<p>Per informazioni contattaci</p>
					<div class="footer-grid-address">
						<p>Email: <a class="email-link" href="#"> lord.fontana@gmail.com</a></p>
			            <p>Email: <a class="email-link" href="#"> rikimotta@gmail.com</a></p>
			            <p>Email: <a class="email-link" href="#"> fbi.gritti@gmail.com</a></p>
					</div>
				</div>
				<div class="clear"> </div>
			</div>
			</div>
		</div>
		<div class="clear"> </div>
		<div class="copy-right">
    	<p>TravelDream All right reserved</p>
		</div>			
</ui:define>
	</ui:composition>
</html>